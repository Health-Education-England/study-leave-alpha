{% extends "layout.html" %}

{% from 'button/macro.njk' import button %}
{% from 'task-list/macro.njk' import taskList %}
{% from 'select/macro.njk' import select %}
{% from 'input/macro.njk' import input %}
{% from 'textarea/macro.njk' import textarea %}

{% block pageTitle %}
  Course/event details - NHS 
{% endblock %}

{% block content %}
<style>
  select {border-radius: 0 !important;}
  .sl-back  .nhsuk-back-link {
    padding-top: 0px;
    margin-bottom: 20px;
    margin-top: 0px !important;
  }
  .apply-sl .nhsuk-select{min-width: 450px !important;max-width: 450px !important;}
  .apply-sl .inputmaxwidth{min-width: 450px !important;max-width: 450px !important;}
  .hidden {display: none;}
</style>

<div class="sl-back">
  {% from 'back-link/macro.njk' import backLink %}
  {{ backLink({
    href: "javascript:window.history.back()",
    text: "Back"
  }) }}
</div>

<div class="nhsuk-grid-row apply-sl">
  <div class="nhsuk-grid-column-two-thirds">

    <span class="nhsuk-caption-l">Apply for study leave</span>
    <h1 class="nhsuk-heading-l">Course or event details</h1>

    <div class="nhsuk-progress inputmaxwidth" role="progressbar"
      aria-valuenow="1"
      aria-valuemin="1"
      aria-valuemax="4"
      aria-label="Page 1 of 4">
      <div class="nhsuk-progress__bar" style="width: calc(1 / 4 * 100%);"></div>
    </div>

    <span class="nhsuk-body-s nhsuk-u-margin-top-2" aria-hidden="true">
      Page 1 of 4
    </span>

    <style>
      .nhsuk-progress {
        height: 12px;
        background: #c3cace;
        border-radius: 2px;
        overflow: hidden;
      }

      .nhsuk-progress__bar {
        height: 100%;
        background: #007f3b;
        transition: width 0.3s ease;
        border-right:2px solid #ffffff;
      }

      .nhsuk-context-banner {
        background-color: #ffffff;
      }
    </style>

    <div class="nhsuk-inset-text nhsuk-context-banner inputmaxwidth">
      <p class="nhsuk-body-s">
        <strong>Showing courses or events for:</strong><br><br>
        <strong>Grade:</strong> ST3<br>
        <strong>Specialty:</strong> Anaesthesiology<br>
        <strong>Region:</strong> London<br>
        <a class="nhsuk-link" href="#">
          Change <span class="nhsuk-u-visually-hidden">
            training stage, specialty or region
          </span>
        </a>
      </p>
    </div>


   {% from 'select/macro.njk' import select %}

<!-- Type of study leave -->
{{ select({
  id: "type-of-study",
  name: "typeOfStudy",
  label: {
    text: "Type of study leave",
    classes: "nhsuk-label--s"
  },
  items: [
    {
      value: "Select",
      text: "Select",
      selected: true
    },
     {
      value: "pre-approved",
      text: "Mandatory",
      disabled: true
    },
    {
      value: "discretionary",
      text: "Discretionary",
      disabled: true
    },
    {
      value: "international",
      text: "International"
    }
  ]
}) }}




    <input type="hidden" id="type-of-study" name="typeOfStudy" value="international">

    {{ select({
      id: "study-activity",
      name: "studyActivity",
      label: {
        text: "Study leave activity",
        classes: "nhsuk-label--s"
      },
      items: [
        { value: "Select", text: "Select" },
        { value: "exam", text: "Exam" },
        { value: "revision", text: "Revision" },
        { value: "conference", text: "Conference" },
        { value: "course", text: "Course" }
      ]
    }) }}

    <div id="event-title-generic" class="inputmaxwidth">
      {{ select({
        id: "select-event-generic",
        name: "selectEventGeneric",
        label: {
          text: "Course or event",
          classes: "nhsuk-label--s"
        },
        items: [
          { value: "Select", text: "Select", selected: true }
        ]
      }) }}
    </div>

    <div id="event-title-revision" class="inputmaxwidth hidden">
      {{ input({
        label: {
          text: "Describe what youâ€™ll be doing",
          classes: "nhsuk-label--s"
        },
        id: "event-title-text",
        name: "eventTitleText"
      }) }}
    </div>

    <div id="event-title-conference" class="inputmaxwidth hidden">
      {{ select({
        id: "select-conference",
        name: "selectConference",
        label: {
          text: "Conference name",
          classes: "nhsuk-label--s"
        },
        items: [
        { value: "select", text: "Select" }, 
         { value: "international-conf-1", text: "International medical conference attendance" },
{ value: "international-conf-2", text: "Presenting research at an overseas healthcare conference" },
{ value: "international-conf-3", text: "Attendance at global specialty society annual meeting" },
{ value: "international-conf-4", text: "Invited speaker at international academic conference" },
{ value: "international-conf-5", text: "Participation in international healthcare symposium" }

        ]
      }) }}
    </div>

    <div id="event-title-course" class="inputmaxwidth hidden">
      {{ select({
        id: "select-course",
        name: "selectCourse",
        label: {
          text: "Course name",
          classes: "nhsuk-label--s"
        },
        items: [
        { value: "select", text: "Select" }, 
         { value: "international-course-1", text: "International clinical skills training course" },
{ value: "international-course-2", text: "Overseas leadership and management course" },
{ value: "international-course-3", text: "Specialist procedural training delivered abroad" },
{ value: "international-course-4", text: "Accredited international postgraduate course" },
{ value: "international-course-5", text: "Short-term overseas educational programme" }

        ]
      }) }}
    </div>

    <div id="event-title-exam" class="inputmaxwidth hidden">
      {{ select({
        id: "select-exam",
        name: "selectExam",
        label: {
          text: "Exam name",
          classes: "nhsuk-label--s"
        },
        items: [
        { value: "select", text: "Select" }, 
       
                 { value: "international-exam-0", text: " International Masterclass in Peri-operative Leadership and Crisis Management" },

         { value: "international-exam-1", text: "Sitting an international postgraduate medical exam in Europe" },
{ value: "international-exam-2", text: "Attendance at overseas licensing examination centre" },
{ value: "international-exam-3", text: "International clinical skills examination (OSCE)" },
{ value: "international-exam-4", text: "Final assessment for international specialty qualification" },
{ value: "international-exam-5", text: "Oral and written examinations held outside the UK" }

        ]
      }) }}
    </div>

    <div class="inputmaxwidth">
      {{ input({
        name: "course-event-provider",
        id: "course-event-provider",
        label: {
          text: "Course or event provider",
          classes: "nhsuk-label--s"
        },
        hint: {
          text: "Enter the name of the organisation running the course or event"
        }
      }) }}
    </div>

    <div class="inputmaxwidth">
      {{ textarea({
        name: "supporting information",
        id: "supporting-information",
        label: {
          text: "Supporting information (optional)",
          classes: "nhsuk-label--s"
        },
        hint: {
          text: "Provide any information that could help support your application"
        }
      }) }}
    </div>

  </div>
</div>

<div class="nhsuk-button-group">
  {{ button({
    text: "Save and continue",
    classes: "nhsuk-button--green",
    href: "apply-date"
  }) }}

  {{ button({
    text: "Cancel",
    classes: "nhsuk-button--secondary",
    href: "dashboard"
  }) }}
</div>

<script>
(function(){
  var activitySelect = document.getElementById('study-activity');

  var generic = document.getElementById('event-title-generic');
  var revision = document.getElementById('event-title-revision');
  var conference = document.getElementById('event-title-conference');
  var course = document.getElementById('event-title-course');
  var exam = document.getElementById('event-title-exam');

  function updateVisibility(){
    var activity = activitySelect && activitySelect.value;

    generic.classList.remove('hidden');
    revision.classList.add('hidden');
    conference.classList.add('hidden');
    course.classList.add('hidden');
    exam.classList.add('hidden');

    if(activity === 'revision'){
      generic.classList.add('hidden');
      revision.classList.remove('hidden');
    } else if(activity === 'conference'){
      generic.classList.add('hidden');
      conference.classList.remove('hidden');
    } else if(activity === 'course'){
      generic.classList.add('hidden');
      course.classList.remove('hidden');
    } else if(activity === 'exam'){
      generic.classList.add('hidden');
      exam.classList.remove('hidden');
    }
  }

  if(activitySelect) activitySelect.addEventListener('change', updateVisibility);
  document.addEventListener('DOMContentLoaded', updateVisibility);
})();
</script>

{% endblock %}
